# Environment Configuration Template for Security Settings
#
# This file provides a template for environment variables used by the application.
# Copy this file to .env and customize the values for your environment.
#
# Usage:
#   cp .env.example .env
#   # Edit .env with your specific values
#   # The .env file is excluded from version control via .gitignore
#
# IMPORTANT: Never commit the actual .env file to version control!

# =============================================================================
# APPLICATION ENVIRONMENT
# =============================================================================
# Determines which environment the application is running in.
# Values: development, staging, production
# Impact:
#   - development: Enables HTTPS server with self-signed certificates, detailed error messages
#   - staging: Similar to production but with less restrictive settings
#   - production: Strict security settings, HTTPS only, minimal error details
NODE_ENV=development

# =============================================================================
# CORS CONFIGURATION
# =============================================================================
# Comma-separated list of allowed origins for Cross-Origin Resource Sharing.
# Only requests from these origins will be permitted to access API resources.
#
# Examples:
#   Development: http://localhost:3000,http://localhost:8080
#   Staging: https://staging.example.com,https://app-staging.example.com
#   Production: https://example.com,https://www.example.com,https://app.example.com
#
# Security Notes:
#   - Never use '*' (wildcard) in production
#   - Include all frontend domains that need API access
#   - Use HTTPS URLs in production
#   - Include port numbers if non-standard
ALLOWED_ORIGINS=http://localhost:3000,http://localhost:8080

# =============================================================================
# HTTPS/SSL CONFIGURATION
# =============================================================================
# Enable or disable HTTPS server.
# Values: true, false
# Note: HTTP server (port 3000) always runs for backward compatibility
HTTPS_ENABLED=true

# Paths to SSL certificate files (for HTTPS server)
# Development: Use self-signed certificates generated by config/ssl/generate-cert.sh
# Production: Use certificates from trusted CA (Let's Encrypt, DigiCert, etc.)
SSL_KEY_PATH=./config/ssl/key.pem
SSL_CERT_PATH=./config/ssl/cert.pem

# =============================================================================
# RATE LIMITING CONFIGURATION
# =============================================================================
# Time window for rate limiting in milliseconds
# Default: 900000 (15 minutes)
# Examples:
#   1 minute = 60000
#   5 minutes = 300000
#   15 minutes = 900000
#   1 hour = 3600000
RATE_LIMIT_WINDOW_MS=900000

# Maximum number of requests allowed per IP address within the time window
# Default: 100
# Adjust based on expected traffic patterns:
#   - Lower values (50-100): Stricter protection, may impact legitimate users
#   - Higher values (200-500): More permissive, suitable for high-traffic APIs
#   - Very high values (1000+): Minimal protection, only stops severe abuse
RATE_LIMIT_MAX=100

# =============================================================================
# HELMET.JS SECURITY HEADERS
# =============================================================================
# Content Security Policy (CSP) directives are configured in middleware/security.js
# Modify CSP settings there if you need to:
#   - Allow additional script sources
#   - Enable inline styles or scripts (not recommended)
#   - Whitelist specific image or font domains
#
# Default CSP:
#   defaultSrc: 'self' (only load resources from same origin)
#   scriptSrc: 'self' (only execute scripts from same origin)
#   styleSrc: 'self', 'unsafe-inline' (allow inline styles for compatibility)
#   imgSrc: 'self', 'data:', 'https:' (allow images from same origin, data URIs, and HTTPS URLs)

# =============================================================================
# ADDITIONAL SECURITY SETTINGS (Optional)
# =============================================================================
# These can be added as needed for future enhancements

# Session secret for signed cookies (if implementing sessions)
# SESSION_SECRET=your-random-secret-key-minimum-32-characters

# Database connection string (if adding database)
# DATABASE_URL=postgresql://user:password@localhost:5432/dbname

# API keys for external services (if integrating third-party APIs)
# API_KEY=your-api-key-here

# Logging level
# LOG_LEVEL=info

# =============================================================================
# PRODUCTION DEPLOYMENT CHECKLIST
# =============================================================================
# Before deploying to production, ensure:
#   ✓ NODE_ENV=production
#   ✓ ALLOWED_ORIGINS contains only HTTPS URLs of your production domains
#   ✓ HTTPS_ENABLED=true with valid CA-signed certificates
#   ✓ Rate limits are appropriate for expected traffic
#   ✓ All sensitive values (API keys, secrets) are securely stored
#   ✓ .env file is NEVER committed to version control
#   ✓ SSL certificates are from a trusted CA (not self-signed)
#   ✓ HSTS header is enabled (configured in helmet.js)
#   ✓ Security headers are tested with SecurityHeaders.com or Mozilla Observatory
